<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HomeEasy">
    
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#a63d56">

    <title>HomeEasy | Gestión</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root { --homeeasy-wine: #a63d56; --homeeasy-gold: #d4af37; }
        
        body { 
            background-color: #f8f9fa; 
            font-family: 'Montserrat', sans-serif; 
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            margin: 0;
            overscroll-behavior-y: contain; /* Evita rebotes en iPhone */
            overflow: hidden; /* Para que Hommy no se salga */
        }

        .menu-container {
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .logo-menu {
            max-width: 220px;
            margin-bottom: 40px;
            filter: drop-shadow(0 4px 10px rgba(0,0,0,0.1));
        }

        .menu-card {
            background: white;
            border-radius: 15px;
            padding: 22px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            text-decoration: none;
            color: #333;
            border-left: 6px solid var(--homeeasy-wine);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
            overflow: hidden;
        }

        @media (hover: hover) {
            .menu-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 12px 20px rgba(0,0,0,0.1);
                border-left-width: 10px;
            }
            .menu-card:hover .icon-box {
                transform: rotate(-5deg) scale(1.1);
            }
        }

        .menu-card:active {
            transform: scale(0.96);
            background-color: #f8f9fa;
        }

        .icon-box {
            width: 55px;
            height: 55px;
            background-color: var(--homeeasy-wine);
            color: white;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.4rem;
            margin-right: 20px;
            transition: all 0.3s ease;
        }

        .menu-text { text-align: left; }
        .menu-text h3 { margin: 0; font-size: 1.05rem; font-weight: 800; color: var(--homeeasy-wine); text-transform: uppercase; }
        .menu-text p { margin: 0; font-size: 0.8rem; color: #666; font-weight: 400; }

        .gold-card { border-left-color: var(--homeeasy-gold) !important; }
        .gold-card .icon-box { background-color: var(--homeeasy-gold) !important; }
        .gold-card h3 { color: var(--homeeasy-gold) !important; }

        .footer-brand {
            margin-top: 30px;
            font-size: 0.7rem;
            color: #bbb;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 600;
        }

        /* --- BURBUJA FLOTANTE DE HOMMY --- */
        .hommy-bubble {
            position: fixed;
            width: 80px;
            height: 80px;
            bottom: 30px;
            right: 20px;
            z-index: 10000;
            cursor: grab;
            touch-action: none; /* Importante para arrastrar en móviles */
        }
        .hommy-img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 4px solid var(--homeeasy-gold);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            object-fit: cover;
            background-color: white;
            transition: transform 0.2s;
        }
        .hommy-bubble:active .hommy-img { transform: scale(0.9); cursor: grabbing; }
    </style>
</head>
<body>

<div class="menu-container">
    <img src="https://i.ibb.co/kVrX85J5/logo.jpg" alt="HomeEasy" class="logo-menu">

    <a href="clientes.html" class="menu-card gold-card">
        <div class="icon-box"><i class="fas fa-magnifying-glass"></i></div>
        <div class="menu-text">
            <h3>Consultar Cliente</h3>
            <p>Historial y saldos pendientes</p>
        </div>
    </a>

    <a href="cotizacion.html" class="menu-card">
        <div class="icon-box"><i class="fas fa-file-invoice-dollar"></i></div>
        <div class="menu-text">
            <h3>Cotización</h3>
            <p>Presupuestos para clientes</p>
        </div>
    </a>

    <a href="pedido.html" class="menu-card gold-card">
        <div class="icon-box"><i class="fas fa-clipboard-list"></i></div>
        <div class="menu-text">
            <h3>Orden de Pedido</h3>
            <p>Medidas y fabricación</p>
        </div>
    </a>

    <a href="abono.html" class="menu-card">
        <div class="icon-box"><i class="fas fa-receipt"></i></div>
        <div class="menu-text">
            <h3>Recibo de Abono</h3>
            <p>Comprobantes de pago</p>
        </div>
    </a>

    <div class="footer-brand">HomeEasy Popayán</div>
</div>

<div id="hommy-bubble" class="hommy-bubble">
    <img src="hommy.png" alt="Hommy" class="hommy-img">
</div>

<script>
    // --- LÓGICA PARA ARRASTRAR A HOMMY ---
    const bubble = document.getElementById("hommy-bubble");
    let isDragging = false;
    let startX, startY, initialX, initialY;
    let hasMoved = false;

    // Detectar inicio (Táctil o Mouse)
    const dragStart = (e) => {
        isDragging = true;
        hasMoved = false;
        const clientX = e.type === "touchstart" ? e.touches[0].clientX : e.clientX;
        const clientY = e.type === "touchstart" ? e.touches[0].clientY : e.clientY;
        
        startX = clientX - bubble.offsetLeft;
        startY = clientY - bubble.offsetTop;
    };

    // Detectar movimiento
    const dragMove = (e) => {
        if (!isDragging) return;
        hasMoved = true;
        e.preventDefault();
        
        const clientX = e.type === "touchmove" ? e.touches[0].clientX : e.clientX;
        const clientY = e.type === "touchmove" ? e.touches[0].clientY : e.clientY;

        let newX = clientX - startX;
        let newY = clientY - startY;

        // Limites de pantalla
        const maxX = window.innerWidth - bubble.offsetWidth;
        const maxY = window.innerHeight - bubble.offsetHeight;

        newX = Math.max(0, Math.min(newX, maxX));
        newY = Math.max(0, Math.min(newY, maxY));

        bubble.style.left = newX + "px";
        bubble.style.top = newY + "px";
        bubble.style.bottom = "auto";
        bubble.style.right = "auto";
    };

    // Detectar fin
    const dragEnd = () => {
        isDragging = false;
        // Si NO hubo movimiento real, lo tratamos como un Click
        if (!hasMoved) {
            window.location.href = "asistente.html";
        }
    };

    bubble.addEventListener("mousedown", dragStart);
    document.addEventListener("mousemove", dragMove);
    document.addEventListener("mouseup", dragEnd);

    bubble.addEventListener("touchstart", dragStart, { passive: false });
    document.addEventListener("touchmove", dragMove, { passive: false });
    document.addEventListener("touchend", dragEnd);

</script>

</body>
</html>
